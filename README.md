# Transit Web Table

ะะตะฑ-ะฟัะธะปะพะถะตะฝะธะต ะดะปั ะพัะพะฑัะฐะถะตะฝะธั ัะฐะฑะปะธัั ะทะฐะบะฐะทะพะฒ ั ะฒะพะทะผะพะถะฝะพัััั ัะพััะธัะพะฒะบะธ, ัะธะปัััะฐัะธะธ ะธ ัะฒะตัะพะฒะพะณะพ ะฒัะดะตะปะตะฝะธั ัััะพะบ ะฟะพ ะฒัะตะผะตะฝะธ ะพะฑัะฐะฑะพัะบะธ.

## ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

- ๐ **ะขะฐะฑะปะธัะฐ ะทะฐะบะฐะทะพะฒ** ั ะดะฐะฝะฝัะผะธ ะธะท Supabase
- ๐ **ะััะตะฝัะธัะธะบะฐัะธั** (ะฒัะพะด/ัะตะณะธัััะฐัะธั)
- ๐ **ะกะพััะธัะพะฒะบะฐ** ะฟะพ ะปัะฑะพะผั ััะพะปะฑัั
- ๐จ **ะฆะฒะตัะพะฒะพะต ะฒัะดะตะปะตะฝะธะต** ัััะพะบ ะฟะพ ะฒัะตะผะตะฝะธ ะพะฑัะฐะฑะพัะบะธ
- ๐ฑ **ะะดะฐะฟัะธะฒะฝัะน ะดะธะทะฐะนะฝ** ะดะปั ะผะพะฑะธะปัะฝัั ััััะพะนััะฒ
- ๐ฑ๏ธ **Drag & Drop** ะดะปั ะธะทะผะตะฝะตะฝะธั ะฟะพััะดะบะฐ ะบะพะปะพะฝะพะบ
- ๐ **ะะฐะณะธะฝะฐัะธั** ั ะฝะฐัััะพะนะบะพะน ะบะพะปะธัะตััะฒะฐ ัััะพะบ ะฝะฐ ัััะฐะฝะธัะต
- โก **ะััััะฐั ะทะฐะณััะทะบะฐ** ั ัะพััะพัะฝะธัะผะธ ะทะฐะณััะทะบะธ ะธ ะพัะธะฑะพะบ

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
transit-web-table/
โโโ app/                    # Next.js App Router
โ   โโโ layout.tsx         # ะะพัะฝะตะฒะพะน layout ั ะบะพะฝัะตะบััะพะผ ะฟัะธะปะพะถะตะฝะธั
โ   โโโ page.tsx           # ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ
โ   โโโ login/             # ะกััะฐะฝะธัะฐ ะฒัะพะดะฐ
โ   โโโ globals.css        # ะะปะพะฑะฐะปัะฝัะต ััะธะปะธ
โโโ components/            # React ะบะพะผะฟะพะฝะตะฝัั
โ   โโโ auth/              # ะะพะผะฟะพะฝะตะฝัั ะฐััะตะฝัะธัะธะบะฐัะธะธ
โ   โ   โโโ LoginForm.tsx        # ะคะพัะผะฐ ะฒัะพะดะฐ
โ   โโโ DraggableColumnHeader.tsx    # ะะตัะตัะฐัะบะธะฒะฐะตะผัะน ะทะฐะณะพะปะพะฒะพะบ ะบะพะปะพะฝะบะธ
โ   โโโ ErrorState.tsx               # ะกะพััะพัะฝะธะต ะพัะธะฑะบะธ
โ   โโโ HighlightToggle.tsx          # ะะตัะตะบะปััะฐัะตะปั ะฒัะดะตะปะตะฝะธั
โ   โโโ Instructions.tsx             # ะะฝััััะบัะธะธ ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปั
โ   โโโ LoadingState.tsx             # ะกะพััะพัะฝะธะต ะทะฐะณััะทะบะธ
โ   โโโ TablePagination.tsx          # ะะพะผะฟะพะฝะตะฝั ะฟะฐะณะธะฝะฐัะธะธ
โโโ contexts/              # React ะบะพะฝัะตะบััั
โ   โโโ AppContext.tsx     # ะะปะพะฑะฐะปัะฝัะน ะบะพะฝัะตะบัั ะฟัะธะปะพะถะตะฝะธั
โโโ hooks/                 # React ััะบะธ
โ   โโโ useOrders.ts       # ะฅัะบ ะดะปั ะทะฐะณััะทะบะธ ะทะฐะบะฐะทะพะฒ
โ   โโโ useOrderTable.ts   # ะฅัะบ ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะพััะพัะฝะธะตะผ ัะฐะฑะปะธัั
โโโ lib/                   # ะฃัะธะปะธัั ะธ ะบะพะฝัะธะณััะฐัะธั
โ   โโโ config.ts          # ะะพะฝัะธะณััะฐัะธะพะฝะฝัะต ะบะพะฝััะฐะฝัั
โ   โโโ orderUtils.ts      # ะฃัะธะปะธัั ะดะปั ัะฐะฑะพัั ั ะทะฐะบะฐะทะฐะผะธ
โ   โโโ supabase/          # ะะพะฝัะธะณััะฐัะธั Supabase
โ   โ   โโโ server.ts      # ะกะตัะฒะตัะฝัะน ะบะปะธะตะฝั Supabase
โ   โ   โโโ index.ts       # ะะปะธะตะฝััะบะธะน ะบะปะธะตะฝั Supabase
โ   โโโ tableColumns.ts    # ะะฟัะตะดะตะปะตะฝะธะต ะบะพะปะพะฝะพะบ ัะฐะฑะปะธัั
โ   โโโ timeUtils.ts       # ะฃัะธะปะธัั ะดะปั ัะฐะฑะพัั ั ะฒัะตะผะตะฝะตะผ
โโโ types/                 # TypeScript ัะธะฟั
โ   โโโ database.ts        # ะขะธะฟั ะฑะฐะทั ะดะฐะฝะฝัั
โโโ public/               # ะกัะฐัะธัะตัะบะธะต ัะฐะนะปั
```

## ะะพะดัะปะธ

### ๐ฏ ะะพะผะฟะพะฝะตะฝัั (`components/`)

#### `auth/LoginForm.tsx`
ะคะพัะผะฐ ะฒัะพะดะฐ ะฒ ัะธััะตะผั ั ะฒะฐะปะธะดะฐัะธะตะน ะฟะพะปะตะน.

**ะคัะฝะบัะธะธ:**
- ะะฐะปะธะดะฐัะธั email ะธ ะฟะฐัะพะปั
- ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ ะฒัะพะดะฐ
- ะะตัะตะฝะฐะฟัะฐะฒะปะตะฝะธะต ะฟะพัะปะต ััะฟะตัะฝะพะณะพ ะฒัะพะดะฐ

#### `DraggableColumnHeader.tsx`
ะะตัะตัะฐัะบะธะฒะฐะตะผัะน ะทะฐะณะพะปะพะฒะพะบ ะบะพะปะพะฝะบะธ ั ะฟะพะดะดะตัะถะบะพะน drag & drop.

**Props:**
- `header: Header<Order, unknown>` - ะพะฑัะตะบั ะทะฐะณะพะปะพะฒะบะฐ ะธะท TanStack Table

#### `HighlightToggle.tsx`
ะะตัะตะบะปััะฐัะตะปั ะดะปั ะฒะบะปััะตะฝะธั/ะพัะบะปััะตะฝะธั ัะฒะตัะพะฒะพะณะพ ะฒัะดะตะปะตะฝะธั ัััะพะบ.

**Props:**
- `enabled: boolean` - ัะพััะพัะฝะธะต ะฒะบะปััะตะฝะธั
- `onToggle: (enabled: boolean) => void` - ะพะฑัะฐะฑะพััะธะบ ะฟะตัะตะบะปััะตะฝะธั

#### `TablePagination.tsx`
ะะพะผะฟะพะฝะตะฝั ะฟะฐะณะธะฝะฐัะธะธ ั ะผะพะฑะธะปัะฝะพะน ะธ ะดะตัะบัะพะฟะฝะพะน ะฒะตััะธัะผะธ.

**Props:**
- `table: Table<Order>` - ัะบะทะตะผะฟะปัั ัะฐะฑะปะธัั TanStack

#### `LoadingState.tsx`
ะะพะผะฟะพะฝะตะฝั ัะพััะพัะฝะธั ะทะฐะณััะทะบะธ ั ะฐะฝะธะผะธัะพะฒะฐะฝะฝัะผ ัะฟะธะฝะฝะตัะพะผ.

#### `ErrorState.tsx`
ะะพะผะฟะพะฝะตะฝั ัะพััะพัะฝะธั ะพัะธะฑะบะธ ั ะบะฝะพะฟะบะพะน ะฟะพะฒัะพัะฐ.

**Props:**
- `error: string` - ัะตะบัั ะพัะธะฑะบะธ
- `onRetry: () => void` - ะพะฑัะฐะฑะพััะธะบ ะฟะพะฒัะพัะฐ

#### `Instructions.tsx`
ะะพะผะฟะพะฝะตะฝั ั ะธะฝััััะบัะธัะผะธ ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปั.

### ๐ ะะพะฝัะตะบััั (`contexts/`)

#### `AppContext.tsx`
ะะปะพะฑะฐะปัะฝัะน ะบะพะฝัะตะบัั ะฟัะธะปะพะถะตะฝะธั, ัะพะดะตัะถะฐัะธะน:
- ะกะพััะพัะฝะธะต ะฒัะดะตะปะตะฝะธั ะฟะพ ะฒัะตะผะตะฝะธ
- ะะธะฐะฟะฐะทะพะฝ ะดะฐั ะดะปั ัะธะปัััะฐัะธะธ
- ะกะพััะพัะฝะธะต ะพัะพะฑัะฐะถะตะฝะธั ะฐะฝะฐะปะธัะธะบะธ
- ะัะฑัะฐะฝะฝะพะต ะฟะพะดัะฐะทะดะตะปะตะฝะธะต
- ะะฝัะพัะผะฐัะธั ะพ ะฟะพะปัะทะพะฒะฐัะตะปะต

### ๐๏ธ ะฃัะธะปะธัั (`lib/`)

#### `config.ts`
ะะพะฝัะธะณััะฐัะธะพะฝะฝัะต ะบะพะฝััะฐะฝัั ะฟัะธะปะพะถะตะฝะธั:
- ะะฐัััะพะนะบะธ ะฟะฐะณะธะฝะฐัะธะธ
- ะะพัะพะณะพะฒัะต ะทะฝะฐัะตะฝะธั ะฒัะตะผะตะฝะธ
- ะคะพัะผะฐัั ะดะฐั

#### `orderUtils.ts`
ะฃัะธะปะธัั ะดะปั ัะฐะฑะพัั ั ะทะฐะบะฐะทะฐะผะธ:
- ะะฐะปะธะดะฐัะธั ะธ ะฝะพัะผะฐะปะธะทะฐัะธั ะดะฐะฝะฝัั ะทะฐะบะฐะทะพะฒ

#### `timeUtils.ts`
ะฃัะธะปะธัั ะดะปั ัะฐะฑะพัั ั ะฒัะตะผะตะฝะตะผ ะพะฑัะฐะฑะพัะบะธ ะทะฐะบะฐะทะพะฒ.

**ะญะบัะฟะพััั:**
- `parseProcessingTime(time: string | null): number` - ะฟะฐััะธะฝะณ ะฒัะตะผะตะฝะธ ะฒ ะผะธะฝััั
- `getRowColor(processingTime: string | null, highlightEnabled: boolean): string` - ะพะฟัะตะดะตะปะตะฝะธะต ัะฒะตัะฐ ัััะพะบะธ
- `TIME_THRESHOLDS` - ะบะพะฝััะฐะฝัั ะฟะพัะพะณะพะฒัั ะทะฝะฐัะตะฝะธะน
- `filterOrdersByDateRange(orders: Order[], dateRange: DateRange): Order[]` - ัะธะปัััะฐัะธั ะฟะพ ะดะฐัะฐะผ

**ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั ะฒัะตะผะตะฝะธ:**
- `"Xั Yะผะธะฝ"` - ัะฐัั ะธ ะผะธะฝััั
- `"Xั"` - ัะพะปัะบะพ ัะฐัั
- `"Yะผะธะฝ"` - ัะพะปัะบะพ ะผะธะฝััั
- `"X Y"` - ัะธัะปะฐ (ะฟะตัะฒะพะต - ัะฐัั, ะฒัะพัะพะต - ะผะธะฝััั)

#### `tableColumns.ts`
ะะฟัะตะดะตะปะตะฝะธะต ะบะพะปะพะฝะพะบ ัะฐะฑะปะธัั ะธ ะธั ะบะพะฝัะธะณััะฐัะธะธ.

**ะญะบัะฟะพััั:**
- `columns` - ะผะฐััะธะฒ ะพะฟัะตะดะตะปะตะฝะธะน ะบะพะปะพะฝะพะบ
- `initialColumnOrder` - ะฝะฐัะฐะปัะฝัะน ะฟะพััะดะพะบ ะบะพะปะพะฝะพะบ

### ๐ฃ ะฅัะบะธ (`hooks/`)

#### `useOrders.ts`
ะฅัะบ ะดะปั ะทะฐะณััะทะบะธ ะดะฐะฝะฝัั ะทะฐะบะฐะทะพะฒ ะธะท Supabase ั ะฒะฐะปะธะดะฐัะธะตะน.

**ะะพะทะฒัะฐัะฐะตั:**
- `orders: Order[]` - ะผะฐััะธะฒ ะทะฐะบะฐะทะพะฒ
- `loading: boolean` - ัะพััะพัะฝะธะต ะทะฐะณััะทะบะธ
- `error: string | null` - ะพัะธะฑะบะฐ ะทะฐะณััะทะบะธ
- `refetch: () => void` - ััะฝะบัะธั ะฟะพะฒัะพัะฝะพะน ะทะฐะณััะทะบะธ

#### `useOrderTable.ts`
ะฅัะบ ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะพััะพัะฝะธะตะผ ัะฐะฑะปะธัั TanStack ั ัะธะปัััะฐัะธะตะน.

**ะะพะทะฒัะฐัะฐะตั:**
- `table` - ัะบะทะตะผะฟะปัั ัะฐะฑะปะธัั TanStack
- `sorting, pagination, columnOrder` - ัะพััะพัะฝะธั ัะฐะฑะปะธัั
- `setSorting, setPagination, setColumnOrder` - ัะตััะตัั ะดะปั ัะพััะพัะฝะธะน
- `filteredOrders` - ะพััะธะปัััะพะฒะฐะฝะฝัะต ะทะฐะบะฐะทั

## ะฆะฒะตัะพะฒะพะต ะฒัะดะตะปะตะฝะธะต

ะัะธ ะฒะบะปััะตะฝะฝะพะผ ะฟะตัะตะบะปััะฐัะตะปะต ัััะพะบะธ ะฒัะดะตะปััััั ัะฒะตัะพะผ ะฒ ะทะฐะฒะธัะธะผะพััะธ ะพั ะฒัะตะผะตะฝะธ ะพะฑัะฐะฑะพัะบะธ:

- ๐ก **ะะตะปััะน** (20-30 ะผะธะฝัั) - ะฟัะตะดัะฟัะตะถะดะตะฝะธะต
- ๐ด **ะัะฐัะฝัะน** (>30 ะผะธะฝัั) - ะบัะธัะธัะตัะบะพะต ะฒัะตะผั
- โช **ะะฑััะฝัะน** (<20 ะผะธะฝัั) - ะฝะพัะผะฐะปัะฝะพะต ะฒัะตะผั

## ะขะตัะฝะพะปะพะณะธะธ

- **Next.js 15** - React ััะตะนะผะฒะพัะบ
- **TanStack Table** - ะฑะธะฑะปะธะพัะตะบะฐ ะดะปั ัะฐะฑะปะธั
- **@dnd-kit** - drag & drop ััะฝะบัะธะพะฝะฐะปัะฝะพััั
- **Supabase** - ะฑะฐะทะฐ ะดะฐะฝะฝัั ะธ API
- **react-hook-form** - ัะฟัะฐะฒะปะตะฝะธะต ัะพัะผะฐะผะธ
- **TypeScript** - ัะธะฟะธะทะฐัะธั
- **Tailwind CSS** - ััะธะปะธะทะฐัะธั

## ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

1. ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน
2. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ: `npm install`
3. ะะฐัััะพะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะดะปั Supabase:
   - ะกะบะพะฟะธััะนัะต `.env.local.example` ะฒ `.env.local`
   - ะะฐะฟะพะปะฝะธัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะดะฐะฝะฝัะผะธ ะธะท ะฟะฐะฝะตะปะธ ัะฟัะฐะฒะปะตะฝะธั Supabase
4. ะะฐะฟัััะธัะต ัะฐะทัะฐะฑะพัะบั: `npm run dev`
5. ะัะบัะพะนัะต [http://localhost:3000](http://localhost:3000)

## ะกะฑะพัะบะฐ

```bash
npm run build
npm start
```

## ะะฐะทัะฐะฑะพัะบะฐ

ะะพะด ะพัะณะฐะฝะธะทะพะฒะฐะฝ ะฒ ะผะพะดัะปัะฝัั ััััะบัััั ะดะปั ะปะตะณะบะพะณะพ ัะพะฟัะพะฒะพะถะดะตะฝะธั ะธ ัะฐััะธัะตะฝะธั:

- **ะะพะผะฟะพะฝะตะฝัั** ะฒัะฝะตัะตะฝั ะฒ ะพัะดะตะปัะฝัะต ัะฐะนะปั ะดะปั ะฟะตัะตะธัะฟะพะปัะทะพะฒะฐะฝะธั
- **ะฃัะธะปะธัั** ัะตะฝััะฐะปะธะทะพะฒะฐะฝั ะฒ `lib/` ะดะปั ะตะดะธะฝะพะพะฑัะฐะทะธั
- **ะขะธะฟั** ัััะพะณะพ ัะธะฟะธะทะธัะพะฒะฐะฝั ะดะปั ะฑะตะทะพะฟะฐัะฝะพััะธ
- **ะฅัะบะธ** ะธะฝะบะฐะฟััะปะธัััั ะปะพะณะธะบั ัะฐะฑะพัั ั ะดะฐะฝะฝัะผะธ
- **ะะพะฝัะตะบััั** ัะฟัะฐะฒะปััั ะณะปะพะฑะฐะปัะฝัะผ ัะพััะพัะฝะธะตะผ ะฟัะธะปะพะถะตะฝะธั

## ะะพะทะผะพะถะฝัะต ัะปัััะตะฝะธั

- [ ] ะะพะฑะฐะฒะธัั ัะธะปัััะฐัะธั ะฟะพ ะฟะพะดัะฐะทะดะตะปะตะฝะธัะผ
- [ ] ะะตะฐะปะธะทะพะฒะฐัั ัะบัะฟะพัั ะดะฐะฝะฝัั
- [ ] ะะพะฑะฐะฒะธัั ะณัะฐัะธะบะธ ะธ ะฐะฝะฐะปะธัะธะบั
- [ ] ะะตะฐะปะธะทะพะฒะฐัั ะฟะพะธัะบ ะฟะพ ัะฐะฑะปะธัะต
- [ ] ะะพะฑะฐะฒะธัั ัะตะผะฝัั ัะตะผั
